\subsubsection{測度空間}

\begin{definition}
    $(X,\Afrak)$ を可測空間とする．
    次の二つの条件を満たす $\mu:\Afrak\to\Rbb\cup\{+\infty\}$ を $X$ 上の測度 (measure) という．
    \begin{enumerate}[label=\textsf{(M\arabic*)},align=left]
        \item\label{item:m1} 任意の $A\in\Afrak$ に対して $\mu(A)\ge0$．また，$\mu(\emptyset)=0$．\qquad (非負性)
        \item\label{item:m2} 互いに素\footnote{pairwise disjoint．すなわち，$i\ne j$ ならば $A_i\cap A_j=\emptyset$．}な
            任意の $(A_n)_{n=1}^\infty\subset\Afrak$ に対して
            $\displaystyle\mu\biggl(\bigcup_{n=1}^\infty A_n\biggr)=\sum_{n=1}^\infty\mu(A_n)$．\qquad ($\sigma$-加法性)
    \end{enumerate}
    三つ組 $(X,\Afrak,\mu)$ を測度空間 (measure space) という．
\end{definition}

\begin{remark}
    測度空間 $(X,\Afrak,\mu)$ に対して次が成り立つ．
    \begin{enumerate}
        \item 任意の $A,B\in\Afrak,\ A\subset B,$ に対して $\mu(A)\le\mu(B)$．\qquad(単調性)
        \item 任意の $(A_i)_{i=1}^\infty\subset\Afrak$ に対して $\displaystyle\mu\biggl(\bigcup_{i=1}^\infty A_i\biggr)\le\sum_{i=1}^\infty\mu(A_i)$．\qquad(劣加法性)
    \end{enumerate}
\end{remark}

\begin{example}\label{ex:restriction_of_measure}
    $(X,\Afrak,\mu)$ を測度空間，$E\in\Afrak$ とする．
    このとき，例 \ref{ex:relative_sigma_algebra} の相対 $\sigma$-加法族 $\Afrak_E$ は
    $\Afrak$ の部分集合になるので，$\mu$ を $\Afrak_E$ に制限することができる．
    このようにして，$E$ は自然に測度空間 $(E,\Afrak_E,\mu\vert_{\Afrak_E})$ となる．
\end{example}

測度を具体的に構成するためには，次に示す外測度の概念が有用である．

\begin{definition}
    $X$ を集合とする．
    次の三つの条件を満たす $\Gamma:2^X\to\Rbb\cup\{+\infty\}$ を $X$ 上の外測度 (outer measure) という．
    \begin{enumerate}[label=\textsf{(OM\arabic*)},align=left]
        \item\label{item:om1} 任意の $A\subset X$ に対して $\Gamma(A)\ge0$.また，$\Gamma(\emptyset)=0$．
        \item\label{item:om2} 任意の $A,B\subset X,\ A\subset B,$ に対して $\Gamma(A)\le\Gamma(B)$．
        \item\label{item:om3} 任意の $(A_n)_{n=1}^\infty\subset2^X$ に対して
            $\displaystyle\Gamma\biggl(\bigcup_{n=1}^\infty A_n\biggr)\le\sum_{n=1}^\infty\Gamma(A_n)$．
    \end{enumerate}
\end{definition}

\begin{example}\label{ex:Lebesgue_outer_measure}
    $I=J_1\times\cdots\times J_n$ と表される $\Rbb^n$ の部分集合を $\Rbb^n$ の区間という．
    ただし，各 $J_i\subset\Rbb$ は
    \begin{gather*}
        (a_i,b_i]\quad\text{for $a_i,b_i\in\Rbb,\ a_i<b_i$},\qquad
        (a_i,+\infty)\quad\text{for $a_i\in\Rbb$},\qquad
        (-\infty,b_i]\quad\text{for $b_i\in\Rbb$}
    \end{gather*}
    のうちいずれか一つとする．
    また，空集合も区間の一つと考える．
    区間 $I$ の $n$ 次元体積を
    \begin{align*}
        &\mathrm{vol}(I)\defeq\begin{cases}
            0&\text{if $I=\emptyset$}\\
            (b_1-a_1)\cdots(b_n-a_n)&\text{if $I\ne\emptyset$ is bounded}\\
            +\infty&\text{if $I$ is unbounded}
        \end{cases}
    \end{align*}
    と置く．
    $\mu_\Lrm^{n,\ast}:2^{\Rbb^n}\to\Rbb\cup\{+\infty\}$ を任意の $A\subset\Rbb^n$ に対して
    \begin{align}
        \mu_\Lrm^{n,\ast}(A)\defeq\inf\left\{
            \sum_{i=1}^\infty\mathrm{vol}(I_i)
            \,\middle\vert\,
            \text{$I_1,I_2,\ldots$ は $\Rbb^n$ の区間，$A\subset\bigcup_{i=1}^\infty I_i$}
        \right\}
        \label{eqn:Lebesgue_outer_measure}
    \end{align}
    と定めると，これは $\Rbb^n$ 上の外測度になる \cite[p.25]{It63}．
    $\mu_\Lrm^{n,\ast}$ を Lebesgue 外測度という．
    \nomenclature{$\mu_\Lrm^{n,\ast}$}{$n$ 次元 Lebesgue 外測度}
\end{example}

\begin{definition}
    $\Gamma$ を集合 $X$ 上の外測度，$E\subset X$ とする．
    $E$ が $\Gamma$-可測 ($\Gamma$-measurable) であるとは，Carath\'eodory の条件：任意の $A\subset X$ に対して
    \begin{align}
        \Gamma(A)=\Gamma(A\cap E)+\Gamma(A\cap E^\crm),
        \label{eqn:Caratheodory}
    \end{align}
    が成り立つことをいう．
    $\Gamma$-可測集合の全体を $\Mfrak_\Gamma$ と置く．
    \nomenclature{$\Mfrak_\Gamma$}{$\Gamma$-可測集合の全体}
\end{definition}

\begin{remark}
    \ref{item:om3} によって，\eqref{eqn:Caratheodory} の $(\text{左辺})\le(\text{右辺})$ はいつも成り立つ．
\end{remark}

\begin{theorem}\label{thm:outer_measure_to_measure}
    $\Gamma$ を集合 $X$ 上の外測度とする．
    このとき，$\Mfrak_\Gamma$ は $X$ 上の $\sigma$-加法族で
    \begin{align*}
        \Gamma\vert_{\Mfrak_\Gamma}:\Mfrak_\Gamma\to\Rbb\cup\{+\infty\}
    \end{align*}
    は $X$ 上の測度になる．
\end{theorem}

\begin{remark}
    定理 \ref{thm:outer_measure_to_measure} によると，与えられた外測度を Carath\'eodory の条件が満たされる集合に制限することで測度が得られる．
    よって，この条件は``大きさを測れるべき集合''が満たすべき自然なものになっていると考えられる．
    しかし，この条件は一見してその意味するところが掴みにくい (と思う)．
    そこで，$\Gamma=\mu_\Lrm^{n,\ast}$ の場合にこの条件が何を意味しているかを調べる．

    $E$ を $\Rbb^n$ の有界集合，$A\supset E$ を有界な区間とする．
    \eqref{eqn:Caratheodory} を次のように書き換える：
    \begin{align*}
        % \mu_\Lrm^{n,\ast}(A)=\mu_\Lrm^{n,\ast}(A\cap E)+\mu_\Lrm^{n,\ast}(A\cap E^\crm)
        % &\iff\mathrm{vol}(A)=\mu_\Lrm^{n,\ast}(E)+\mu_\Lrm^{n,\ast}(A\setminus E)\\
        % &\iff\mu_\Lrm^{n,\ast}(E)=\mathrm{vol}(A)-\mu_\Lrm^{n,\ast}(A\setminus E).
        \mu_\Lrm^{n,\ast}(E)=\mathrm{vol}(A)-\mu_\Lrm^{n,\ast}(A\setminus E).
    \end{align*}
    この右辺は，$A$ 全体の測度から $E$ の補集合の外測度を取り去ることで $E$ の大きさを測っていることに相当している ($A$ は有界なので $\infty-\infty$ の形は現れないことに注意)．
    すなわち，ある意味で $E$ を内側から近似したような量になっている．
    これは Lebesgue 内測度
    \begin{align*}
        \mu_{\Lrm,\ast}^n(E)\defeq\mathrm{vol}(A)-\mu_\Lrm^{n,\ast}(A\setminus E)
    \end{align*}
    と呼ばれており，$A$ の選び方によらずに定まる．
    また，
    \begin{align}
        \mu_{\Lrm,\ast}^n(E)=\sup\left\{\mu_\Lrm^{n,\ast}(K)\mid\text{$K\subset E$，$K$ はコンパクト}\right\}
        \label{eqn:Lebesgue_inner_measure}
    \end{align}
    \nomenclature{$\mu_{\Lrm,\ast}^n$}{$n$ 次元 Lebesgue 内測度}
    という特徴づけが知られている．
    $E$ が有界とは限らない場合には \eqref{eqn:Lebesgue_inner_measure} を定義とする．
    一般に，Carath\'eodory の条件は
    \begin{align*}
        \mu_\Lrm^{n,\ast}(E)=\mu_{\Lrm,\ast}^n(E)
    \end{align*}
    と同値である \cite[\S1 Exercise 19]{Fo99} (Riemann 積分論における Jordan 可測性と類似)．

    Jordan 測度の場合と異なり，Lebesgue 外測度と内測度の定義の間に非対称性があることに注意する．
    たとえば，定義式が (ある程度) 対称な形になるように Lebesgue 内測度を
    \begin{align*}
        \mu_{\Lrm,\ast}^n(E)\stackrel{?}{\defeq}\sup\left\{
            \sum_{i=1}^\infty\mathrm{vol}(I_i)
            \,\middle\vert\,
            \text{$I_1,I_2,\ldots$ は互いに素な $\Rbb^n$ の区間，$E\supset\bigcup_{i=1}^\infty I_i$}
        \right\}
    \end{align*}
    と定めてもうまくいかない．
    このことは，$E=[0,1]\setminus\Qbb$ の場合を考えると了解できる
    ($\mu_{\Lrm,\ast}^n(E)=1$ になってほしいが，$[0,1]\setminus\Qbb$ に含まれるように空でない区間を選ぶことはできないので $\mu_{\Lrm,\ast}^n(E)=0$ になってしまう)．
    測度論のこのような非対称性については \cite{ms308856} にコメントが載っている．

    % \begin{align*}
    %     \mathrm{vol}(A)-\mu_\Lrm^{n,\ast}(A\setminus E)
    %     &=\mathrm{vol}(A)-\inf\left\{
    %         \sum_{i=1}^\infty\mathrm{vol}(I_i)
    %         \,\middle\vert\,
    %         \text{$I_i$ : $\Rbb^n$ の区間，$A\setminus E\subset\bigcup_{i=1}^\infty I_i$}
    %     \right\}\\
    %     &=\mathrm{vol}(A)-\inf\left\{
    %         \sum_{i=1}^\infty\mathrm{vol}(I_i)
    %         \,\middle\vert\,
    %         \text{$I_i$ : $\Rbb^n$ の互いに素な区間，$A\setminus E\subset\bigcup_{i=1}^\infty I_i\subset A$}
    %     \right\}\\
    %     &=\sup\left\{
    %         \mathrm{vol}(A)-\sum_{i=1}^\infty\mathrm{vol}(I_i)
    %         \,\middle\vert\,
    %         \text{$I_i$ : $\Rbb^n$ の互いに素な区間，$A\setminus E\subset\bigcup_{i=1}^\infty I_i\subset A$}
    %     \right\}\\
    %     &=\sup\left\{
    %         \sum_{j=1}^\infty\mathrm{vol}(J_j)
    %         \,\middle\vert\,
    %         \text{$J_j$ : $\Rbb^n$ の互いに素な区間，$\bigcup_{j=1}^\infty J_j\subset E$}
    %     \right\}.
    % \end{align*}
    % 最後の等号では，$A$ を互いに素な区間 $I_1,I_2,\ldots,J_1,J_2,\ldots$ に分割したときに
    % \begin{itemize}
    %     \item $\displaystyle\mathrm{vol}(A)=\sum_{i=1}^\infty\mathrm{vol}(I_i)+\sum_{j=1}^\infty\mathrm{vol}(J_j)$
    %     \item $\displaystyle A\setminus E\subset\bigcup_{i=1}^\infty I_i\subset A\stackrel{\text{$A\setminus\cdot$ をとる}}{\iff}\bigcup_{j=1}^\infty J_j\subset E$
    % \end{itemize}
    % となることを用いた．
    % !!! 間違い !!! このような $J_j$ は取れないと思う
\end{remark}

\begin{proof}[定理 \ref{thm:outer_measure_to_measure} の証明]
    \ref{item:sa1}, \ref{item:sa2}, \ref{item:m1} は明らか．
    \ref{item:sa3}, \ref{item:m2} を示す．
    互いに素な $(E_n)_{n=1}^\infty\subset\Mfrak_\Gamma$ を任意にとり，$S=\bigcup_{n=1}^\infty E_n$ と置く．

    \begin{claim}\label{claim:out1}
        任意の $A\subset X$ と $n\in\Zbb_{>0}$ に対して
        \begin{align}
            \Gamma(A)\ge\sum_{k=1}^n\Gamma(A\cap E_k)+\Gamma(A\cup S^\crm).
            \label{eqn:outer_measure_claim1}
        \end{align}
    \end{claim}

    \begin{proof}[主張 \ref{claim:out1} の証明]
        $n$ について帰納法で示す．
        $n=1$ のとき，
        \begin{align*}
            \Gamma(A)
            &=\Gamma(A\cap E_1)+\Gamma(A\cap E_1^\crm)&&\because E_1\in\Mfrak_\Gamma\\
            &\ge\Gamma(A\cap E_1)+\Gamma(A\cap S^\crm)&&\because\text{\ref{item:om2}}
        \end{align*}
        となるので成立．
        $n$ で成立を仮定する．
        \eqref{eqn:outer_measure_claim1} の $A$ として $A\cap E_{n+1}^\crm$ を選ぶと
        \begin{align*}
            \Gamma(A\cap E_{n+1}^\crm)
            &\ge\sum_{k=1}^n\Gamma(A\cap E_{n+1}^\crm\cap E_k)+\Gamma(A\cap E_{n+1}^\crm\cap S^\crm)\\
            &=\sum_{k=1}^n\Gamma(A\cap E_k)+\Gamma(A\cap S^\crm).
        \end{align*}
        ゆえに，
        \begin{align*}
            \Gamma(A)
            &=\Gamma(A\cap E_{n+1})+\Gamma(A\cap E_{n+1}^\crm)&&\because E_{n+1}\in\Mfrak_\Gamma\\
            &\ge\Gamma(A\cap E_{n+1})+\sum_{k=1}^n\Gamma(A\cap E_k)+\Gamma(A\cap S^\crm)\\
            &=\sum_{k=1}^{n+1}\Gamma(A\cap E_k)+\Gamma(A\cap S^\crm)
        \end{align*}
        となって $n+1$ でも成立．
    \end{proof}

    よって，任意の $A\subset X$ に対して
    \begin{align*}
        \Gamma(A)
        &\ge\sum_{k=1}^\infty\Gamma(A\cap E_k)+\Gamma(A\cap S^\crm)&&\because\text{主張 \ref{claim:out1} で $n\to+\infty$}\\
        &\ge\Gamma\biggl(\bigcup_{k=1}^\infty(A\cap E_k)\biggr)+\Gamma(A\cap S^\crm)&&\because\text{\ref{item:om3}}\\
        &=\Gamma(A\cap S)+\Gamma(A\cap S^\crm)\\
        &\ge\Gamma(A).&&\because\text{\ref{item:om3}}
    \end{align*}
    ゆえに，
    \begin{align*}
        \Gamma(A)
        =\sum_{k=1}^\infty\Gamma(A\cap E_k)+\Gamma(A\cap S^\crm)
        =\Gamma(A\cap S)+\Gamma(A\cap S^\crm)
    \end{align*}
    となり $S\in\Mfrak_\Gamma$ が分かる．
    $A=S$ として $\Gamma(S)=\sum_{k=1}^\infty\Gamma(E_k)$ もいえるので，\ref{item:m2} が成立．

    \begin{claim}\label{claim:out2}
        任意の $E,F\in\Mfrak_\Gamma$ に対して $E\cap F,E\setminus F\in\Mfrak_\Gamma$．
    \end{claim}
    \begin{proof}[主張 \ref{claim:out2} の証明]
        \begin{align*}
            &\Gamma(A\cap(E\cap F))+\Gamma(A\cap(E\cap F)^\crm)\\
            &=\Gamma(A\cap E\cap F)+\Gamma(A\cap(E\cap F)^\crm\cap E)+\Gamma(A\cap(E\cap F)^\crm\cap E^\crm)&&\because E\in\Mfrak_\Gamma\\
            &=\Gamma(A\cap E\cap F)+\Gamma(A\cap E\cap F^\crm)+\Gamma(A\cap E^\crm)\\
            &=\Gamma(A\cap E)+\Gamma(A\cap E^\crm)&&\because F\in\Mfrak_\Gamma\\
            &=\Gamma(A)&&\because E\in\Mfrak_\Gamma
        \end{align*}
        となるので $E\cap F\in\Mfrak_\Gamma$．
        また，$E\setminus F=E\cap F^\crm\in\Mfrak_\Gamma$．
    \end{proof}

    互いに素とは限らない $(E_n)_{n=1}^\infty\subset\Mfrak_\Gamma$ に対して，主張 \ref{claim:out2} より
    \begin{align*}
        \bigcup_{n=1}^\infty E_n=E_1\cup(E_2\setminus E_1)\cup(E_3\setminus(E_1\cup E_2))\cup\cdots\in\Mfrak_\Gamma
    \end{align*}
    となって，\ref{item:sa3} が成立．
\end{proof}

\begin{example}
    $X=\Rbb^n,\Gamma=\mu_\Lrm^{n,\ast}$ (例 \ref{ex:Lebesgue_outer_measure} を参照) に対して，
    定理 $\ref{thm:outer_measure_to_measure}$ の方法で定まる $\sigma$-加法族を $\Bfrak_\Lrm^n$，
    測度を $\mu_\Lrm^n:\Bfrak_\Lrm^n\to\Rbb\cup\{+\infty\}$ と書く．
    $\Bfrak_\Lrm^n$ の元を Lebesgue 可測集合，$\mu_\Lrm^n$ を $n$ 次元 Lebesgue 測度という．
    \nomenclature{$\Bfrak_\Lrm^n$}{Lebesgue 可測集合の全体}
    \nomenclature{$\mu_\Lrm^n$}{$n$ 次元 Lebesgue 測度}
\end{example}

以上で Lebesgue 測度が構成できた．
ここで用いた構成法は次のように一般化される
\footnote{
    Lebesgue 測度の構成は，定理 \ref{thm:Hopf_extension} で $\Ffrak$ として有限個の区間の和集合 (区間塊という) の全体を，
    $m$ として区間塊の $n$ 次元体積を選ぶことに相当している．
    ただし，定理を素朴に適用して得られるのは $\sigma(\Ffrak)$
    (これは Borel 集合族 $\Bfrak^n$ と一致する．
    \cite[定理 6.4]{It63} または命題 \ref{prop:measurable_function_characterization} の証明を参照．)
    を定義域とする測度であることに注意する．
    特に，後に注意 \ref{rem:Borel_Lebesgue} で見るように $\Bfrak^n\subsetneq\Bfrak_\Lrm^n$ となるので，
    定理によって得られるのは厳密には Lebesgue 測度ではない．
    Lebesgue 測度を得るには，定理の証明において $\Gamma$ を $\sigma(\Ffrak)$ 上に制限するステップを省略すればよい．
}．

\begin{theorem}[E.\ Hopf の拡張定理，または Carath\'eodory の拡張定理]\label{thm:Hopf_extension}
    \leavevmode\par
    $X$ を集合とする．
    $\Ffrak\subset2^X$ は \ref{item:sa1}, \ref{item:sa2} および
    \begin{enumerate}[align=left]
        \item[$\textsf{(SA3)}_\textsf{fin}$] 任意の $A,B\in\Ffrak$ に対して $A\cup B\in\Ffrak$
    \end{enumerate}
    を満たすとする (このような $\Ffrak$ を有限加法族という)．
    $m:\Ffrak\to\Rbb\cup\{+\infty\}$ は \ref{item:m1} および
    \begin{enumerate}[align=left]
        \item[$\textsf{(M2)}_\textsf{fin}$] 互いに素な任意の $A,B\in\Ffrak$ に対して $m(A\cup B)=m(A)+m(B)$
    \end{enumerate}
    を満たすとする (このような $m$ を有限加法的測度という)．

    このとき，測度 $\mu:\sigma(\Ffrak)\to\Rbb\cup\{+\infty\}$ で $\mu\vert_\Ffrak=m$ を満たすものが存在するためには，
    $m$ が $\Ffrak$ 上で $\sigma$-加法的であること\footnote{このような $m$ は前測度 (premeasure) と呼ばれる．}：
    \begin{itemize}
        \item 互いに素な任意の $(A_n)_{n=1}^\infty\subset\Ffrak$ で
            $\displaystyle\bigcup_{n=1}^\infty A_n\in\Ffrak$ なるものに対して
            $\displaystyle m\biggl(\bigcup_{n=1}^\infty A_n\biggr)=\sum_{n=1}^\infty m(A_n)$，
    \end{itemize}
    が必要十分である．
    さらに，ある $(X_n)_{n=1}^\infty\subset\Ffrak$ で
    $m(X_n)<\infty$ ($n=1,2,\ldots$) かつ $\displaystyle\bigcup_{n=1}^\infty X_n=X$
    なるものが存在するなら，このような $\mu$ は一意である．
\end{theorem}

\begin{proof}
    必要性は明らか．
    十分性を示す．
    まず，(\eqref{eqn:Lebesgue_outer_measure} に対応して)
    $\Gamma:2^X\to\Rbb\cup\{+\infty\}$ を任意の $A\subset X$ に対して
    \begin{align*}
        \Gamma(A)=\inf\left\{
            \sum_{n=1}^\infty m(E_n)
            \,\middle\vert\,
            E_1,E_2,\ldots\in\Ffrak,\ A\subset\bigcup_{n=1}^\infty E_n
        \right\}
    \end{align*}
    と定めると，これは $X$ 上の外測度になる．
    $\Gamma$ が $m$ の拡張になっていることを示そう．
    $E\in\Ffrak$ とする．
    $\Ffrak$ の元による $E$ の被覆として $\{E\}$ を選ぶことで $\Gamma(E)\le m(E)$ が分かる．
    一方，$(E_n)_{n=1}^\infty\subset\Ffrak$ で $E\subset\bigcup_{n=1}^\infty E_n$ なるものに対して
    \begin{align*}
        m(E)
        &=m(E_1\cap E)+m((E_2\setminus E_1)\cap E)+m((E_3\setminus(E_1\cup E_2))\cap E)+\cdots&&\because\text{$m$ は $\Ffrak$ 上 $\sigma$-加法的}\\
        &\le m(E_1)+m(E_2)+m(E_3)+\cdots&&\because\text{\ref{item:om2}}
    \end{align*}
    となるので，右辺の下限をとると $m(E)\le\Gamma(E)$ を得る．
    従って，$\Gamma$ は $m$ の拡張になっている．

    この $\Gamma$ に対して定理 \ref{thm:outer_measure_to_measure} を適用して，測度空間 $(X,\Mfrak_\Gamma,\Gamma\vert_{\Mfrak_\Gamma})$ を得る．
    $\Ffrak\subset\Mfrak_\Gamma$ \cite[定理 5.2]{It63} で $\Mfrak_\Gamma$ は $\sigma$-加法族なので，
    特に $\sigma(\Ffrak)\subset\Mfrak_\Gamma$ であって，$\Gamma$ を $\sigma(\Ffrak)$ 上に制限することで所望の測度 $\mu$ が得られる．
    $\mu$ の一意性については \cite[定理 9.1]{It63} を参照．
\end{proof}

定理 \ref{thm:Hopf_extension} を用いて有限個の測度空間の直積が構成できる．

\begin{definition}
    測度空間 $(X,\Afrak,\mu)$ が $\sigma$-有限であるとは，
    可測集合の列 $(A_n)_{n=1}^\infty\subset\Afrak$ であって $\mu(A_n)<+\infty$ ($n=1,2,\ldots$)
    かつ $\bigcup_{n=1}^\infty A_n=X$ を満たすものが存在することをいう．
\end{definition}

\begin{theorem}\label{thm:product_measure_well_defined}
    $(X_i,\Afrak_i,\mu_i)$ ($i=1,\ldots,n$) を測度空間とする．
    これらの直積可測空間 (例 \ref{ex:product_sigma_algebra}) を $(\prod_{i=1}^nX_i,\bigotimes_{i=1}^n\Afrak_i)$ と置く．
    このとき，$\prod_{i=1}^nX_i$ 上の測度 $\mu:\bigotimes_{i=1}^n\Afrak_i\to\Rbb\cup\{+\infty\}$ であって，
    任意の $A_i\in\Afrak_i$ ($i=1,\ldots,n$) に対して
    \begin{align}
        \mu(A_1\times\cdots\times A_n)=\begin{cases}
            0&\text{if $\mu_i(A_i)=0$ for some $i\in\{1,\ldots,n\}$}\\
            \mu_1(A_1)\cdots\mu_n(A_n)&\text{otherwise}
        \end{cases}
        \label{eqn:product_measure_core}
    \end{align}
    を満たすものが存在する
    \footnote{例 \ref{ex:extended_real} の注釈で述べたように $0\cdot(+\infty)\defeq0$ と定めるならば，
    \eqref{eqn:product_measure_core} の場合分けは必要なくなる．}．
    さらに，各 $(X_i,\Afrak_i,\mu_i)$ が $\sigma$-有限ならこのような $\mu$ は一意である．
\end{theorem}

\begin{proof}
    $\prod_{i=1}^nA_i$ ($A_i\in\Afrak_i$) の有限個の非交和で表される集合の全体を $\Ffrak$ と置くと，
    これは $\prod_{i=1}^nX_i$ 上の有限加法族になる．
    そして，$\widetilde\mu:\Ffrak\to\Rbb\cup\{+\infty\}$ を
    \begin{align*}
        \widetilde\mu\biggl(\biggl(\prod_{i=1}^nA_{i,1}\biggr)\sqcup\cdots\sqcup\biggl(\prod_{i=1}^nA_{i,k}\biggr)\biggr)
        =\mu\biggl(\prod_{i=1}^nA_{i,1}\biggr)+\cdots+\mu\biggl(\prod_{i=1}^nA_{i,k}\biggr),\quad
        A_{i,k}\in\Afrak_i,
    \end{align*}
    と定める (右辺は \eqref{eqn:product_measure_core} のものとする) と，$\widetilde\mu$ は well-defined であって
    $\Ffrak$ 上の有限加法的測度になる．
    さらに，$\widetilde\mu$ が $\Ffrak$ 上で $\sigma$-加法的であることも示せる．
    ゆえに，定理 \ref{thm:Hopf_extension} より $\widetilde\mu$ は
    $\Afrak_1\otimes\Afrak_2=\sigma(\Afrak_1\times\Afrak_2)=\sigma(\Ffrak)$ 上の測度に拡張できる．
    拡張の一意性も定理 \ref{thm:Hopf_extension} から直ちに従う．
    詳細は \cite[\S2.5]{Fo99} などを参照．
\end{proof}

\begin{definition}
    $\sigma$-有限な測度空間 $(X_i,\Afrak_i,\mu_i)$ ($i=1,\ldots,n$) に対して，
    定理 \ref{thm:product_measure_well_defined} の $\mu$ を $\bigotimes_{i=1}^n\mu_i=\mu_1\otimes\cdots\otimes\mu_n$ と書き，
    $(\prod_{i=1}^nX_i,\bigotimes_{i=1}^n\Afrak_i,\bigotimes_{i=1}^n\mu_i)$ を直積測度空間という．
\end{definition}

次に，測度空間の完備性について述べる．

\begin{definition}
    $(X,\Afrak,\mu)$ を測度空間とする．
    \begin{enumerate}
        \item $N\in\Afrak$ が零集合 (null set) であるとは，$\mu(N)=0$ となることをいう．
        \item $(X,\Afrak,\mu)$ が完備 (complete) であるとは，零集合の任意の部分集合が $\Afrak$ に属する (したがって零集合になる) ことをいう．
    \end{enumerate}
\end{definition}

\begin{proposition}
    定理 \ref{thm:outer_measure_to_measure} の測度空間 $(X,\Mfrak_\Gamma,\Gamma\vert_{\Mfrak_\Gamma})$ は完備．
    特に，$(\Rbb^n,\Bfrak_\Lrm^n,\mu_\Lrm^n)$ は完備．
\end{proposition}

\begin{proof}
    零集合 $N\in\Mfrak_\Gamma$ と任意の $N'\subset N$ に対して，$\Gamma(N')\le\Gamma(N)=0$ なので $\Gamma(N')=0$．
    よって，任意の $A\subset X$ に対して
    \begin{align*}
        \Gamma(A)
        \le\Gamma(A\cap N')+\Gamma(A\cap N'^\crm)
        =\Gamma(A\cap N'^\crm)
        \le\Gamma(A)
    \end{align*}
    となり $N'\in\Mfrak_\Gamma$ を得る．
\end{proof}

\begin{theorem}\label{thm:measure_completion}
    測度空間 $(X,\Afrak,\mu)$ に対して，$\mu^\ast:2^X\to\Rbb\cup\{+\infty\}$ を
    \begin{align*}
        \mu^\ast(A)\defeq\inf\left\{
            \mu(B)\,\middle\vert\,A\subset B\in\Afrak
        \right\}
    \end{align*}
    と定めると，これは $X$ 上の外測度になる．
    さらに，$\mu^\ast$ に対して定理 \ref{thm:outer_measure_to_measure} を適用して得られる完備測度空間
    $(X,\Mfrak_{\mu^*},\mu^\ast\vert_{\Mfrak_{\mu^\ast}})$ は
    \begin{align*}
        \Afrak\subset\Mfrak_{\mu^*},\quad
        \mu^\ast\vert_\Afrak=\mu
    \end{align*}
    を満たす．
\end{theorem}

\begin{proof}
    \cite[定理 8.4]{It63} を参照．
\end{proof}

\begin{definition}
    定理 \ref{thm:measure_completion} の測度空間 $(X,\Mfrak_{\mu^*},\mu^\ast\vert_{\Mfrak_{\mu^\ast}})$ を
    $(X,\Afrak,\mu)$ の完備化 (completion) という．
\end{definition}

{\color{red} TODO 文章考え直す}
常に完備化した空間で考えた方がいいというわけではない！ 
可測関数の議論(次回)を参照

{\color{red} TODO 完備性がなぜ大事か、Fubiniの定理との関係に軽く触れる}

\begin{remark}\label{rem:Borel_Lebesgue}
    \leavevmode
    \begin{enumerate}
        \item
            {\color{red} TODO 文章考え直す}
            $\Rbb^n$ の Borel 集合は Lebesgue 可測である．
            すなわち $\Bfrak^n\subset\Bfrak_\Lrm^n$．
            また，測度空間 $(\Rbb^n,\Bfrak^n,\mu_\Lrm^n\vert_{\Bfrak^n})$ の完備化は
            $(\Rbb^n,\Bfrak_\Lrm^n,\mu_\Lrm^n)$ と一致する．
            前者については \cite[定理 7.2]{It63} を，後者については \cite[p.49]{It63} を参照．

        \item
            $\Bfrak^n\subsetneq\Bfrak_\Lrm^n\subsetneq2^{\Rbb^n}$ である．
            より正確には，$\cfrak$ を連続体の濃度として
            \begin{align}
                |\Bfrak^n|=\cfrak,\quad
                |\Bfrak_\Lrm^n|=2^\cfrak,\quad
                |2^{\Rbb^n}|=2^\cfrak,\quad
                |2^{\Rbb^n}\setminus\Bfrak_\Lrm^n|=2^\cfrak
            \end{align}
            が成り立つ．

            一つ目の等号は超限帰納法を用いて Borel 集合を具体的に``生成''することによって示される\cite{ms70880}．
            二つ目の等号は次のようにして示される：
            $N\in\Bfrak_\Lrm^n$ で $\mu_\Lrm^n(N)=0$ かつ $|N|=\cfrak$ となるもの (たとえば Cantor 集合) を一つとる．
            Lebesgue 測度の完備性から $N$ の任意の部分集合は Lebesgue 可測なので結論が従う．
            三つ目の等号は $|\Rbb^n|=\cfrak$ から従う．
            四つ目の等号は，$A\in2^{\Rbb^n}\setminus\Bfrak_\Lrm^n$ を固定したとき，
            任意の $X\in\Bfrak_\Lrm^n$ に対して $A\ominus X\not\in\Bfrak_\Lrm^n$ となることから従う ($\ominus$ は集合の対称差)．

        \item Lebesgue 非可測集合の例
            \begin{enumerate}
                \item
                    区間 $G=[0,1)$ は $\mathrm{mod}\ 1$ での和について Abel 群をなす．
                    $G$ を部分群 $H=\Qbb\cap[0,1)$ で割った剰余群 $G/H$ について，その完全代表系 $A$ を一つとり固定する．
                    このとき，$G=\bigcup_{r\in H}(r+A)$ と書けて，しかも右辺は非交和である．
                    $A$ が Lebesgue 可測であると仮定すると，$H$ は可算集合で Lebesgue 測度は平行移動不変なので
                    \begin{align*}
                        1
                        =\mu_\Lrm^1(G)
                        =\sum_{r\in H}\mu_\Lrm^1(r+A)
                        =\sum_{r\in H}\mu_\Lrm^1(A)
                    \end{align*}
                    となる．
                    $\mu_\Lrm^1(A)=0,>0$ のいずれであっても矛盾が起きるので，$A$ は Lebesgue 非可測である．
                    $A$ を Vitali 集合という．

                \item
                    $\Rbb^3$ における半径 $1$ の球体を有限個の集合 $A_1,\ldots,A_m$ に分割して，
                    それらを回転と平行移動によって組み替えることで，半径 $1$ の球体を二つ作ることができる．
                    これは Banach--Tarski のパラドックスと呼ばれている．
                    YouTube \cite{yts86-Z-CbaHA} に綺麗なグラフィックスを用いた解説がある (字幕もついている)．

                    このとき，$A_1,\ldots,A_m$ の少なくとも一つは Lebesgue 可測ではない．
                    実際，これらがすべて Lebesgue 可測であると仮定すると，Lebesgue 測度が回転と平行移動について不変であることから
                    $\mu_\Lrm^3(\text{球体})=2\times\mu_\Lrm^3(\text{球体})$ がいえてしまい矛盾が起きる．
            \end{enumerate}

        \item Borel でない Lebesgue 可測集合の例\cite{ms253786} (Lusin)．
            $x\in\Rbb\setminus\Qbb$ の連分数展開を
            \begin{align*}
                x=a_0+\frac{1}{a_1+\dfrac{1}{a_2+\cdots}}
            \end{align*}
            と書くと，
            \begin{align*}
                \left\{
                    x\in\Rbb\setminus\Qbb\,\middle\vert\,
                    \begin{array}{c}
                        \text{ある $0\le n_0<n_1<\cdots$ に対して}\\
                        a_{n_0}\mid a_{n_1}\mid a_{n_2}\mid\cdots
                    \end{array}
                \right\}\in\Bfrak_\Lrm^1\setminus\Bfrak^1.
            \end{align*}
    \end{enumerate}
\end{remark}
